{% extends 'agent_nav.html' %} {% block content %} {% if messages %}
<div id="messages-container" style="text-align: center; font-weight: bold; color: #003366;">
    {% for message in messages %}
    <div class="alert {% if message.tags %}alert-{{ message.tags }}{% else %}alert-info{% endif %}" role="alert" style="display: inline-block; width: 60%; margin: 10px;">
        {{ message }}
    </div>
    {% endfor %}
</div>
<script>
    // Automatically remove the messages after 5 seconds
    setTimeout(() => {
        const messageContainer = document.getElementById('messages-container');
        if (messageContainer) {
            messageContainer.style.display = 'none';
        }
    }, 5000); // 5000 milliseconds = 5 seconds
</script>
{% endif %}


<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card border-0">
                <div class="card-body p-4" style="background-color: #3680ca; border-radius: 10px; max-width: 500px; width: 100%; margin: 0 auto;">
                    <h2 class="text-center text-white">Change Password</h2>

                    <form method="post">
                        {% csrf_token %}

                        <!-- Old Password -->
                        <div class="form-group mb-3">
                            <label for="id_old_password" class="form-label text-white">Old Password:</label> {{ form.old_password }} {% if form.old_password.errors %}
                            <span class="text-danger error-message">{{ form.old_password.errors.0 }}</span> {% endif %}
                        </div>

                        <!-- New Password -->
                        <div class="form-group mb-3">
                            <label for="id_new_password1" class="form-label text-white">New Password:</label> {{ form.new_password1 }} {% if form.new_password1.errors %}
                            <span class="text-danger error-message">{{ form.new_password1.errors.0 }}</span> {% endif %}
                        </div>

                        <!-- Confirm New Password -->
                        <div class="form-group mb-3">
                            <label for="id_new_password2" class="form-label text-white">Confirm New Password:</label> {{ form.new_password2 }} {% if form.new_password2.errors %}
                            <span class="text-danger error-message">{{ form.new_password2.errors.0 }}</span> {% endif %}
                        </div>

                        <div class="d-grid gap-2">
                            <button type="submit" class="btn" style="background-color: #003365; color: aliceblue; width: 100%;">Change Password</button>
                            <a href="{% url 'agent_profile' %}" class="btn btn-secondary" style="width: 100%;">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .form-group {
        width: 100%;
        max-width: 500px;
        margin: 0 auto;
    }
    
    .form-group label {
        display: block;
        font-size: 15px;
        margin-bottom: 5px;
    }
    
    .form-group input {
        width: 100%;
        padding: 10px;
        font-size: 14px;
        border-radius: 5px;
        margin-bottom: 10px;
    }
    
    .error-message {
        font-size: 12px;
        color: red;
        margin-top: 3px;
    }
    
    .d-grid button,
    .d-grid a {
        width: 100%;
        margin-top: 10px;
    }
    
    .alert-success {
        background-color: #d4edda;
        color: #155724;
        border-color: #c3e6cb;
        padding: 10px;
        border-radius: 5px;
    }
    
    .alert-danger {
        background-color: #f8d7da;
        color: #721c24;
        border-color: #f5c6cb;
        padding: 10px;
        border-radius: 5px;
    }
</style>
{% endblock %}